<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculateur de Capacit√© de Sprint | Sprint Velocity Calculator</title>
    <meta name="description" content="Calculateur de capacit√© de sprint agile bas√© sur la v√©locit√© de r√©f√©rence, les jours ouvr√©s et les absences. Optimisez la planification de vos sprints Scrum.">
    <meta name="keywords" content="agile, scrum, sprint, v√©locit√©, capacit√©, calculateur, planification, d√©veloppement, √©quipe">
    <meta name="author" content="htomaka">
    <meta name="robots" content="index, follow">
    <meta name="google-site-verification" content="S1Alzc52lso104qTJGdJhhH6twq13YVUvxDfqCZzZOQ" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://connectable-web.com/tools/velocity-calculator/">
    <meta property="og:title" content="Calculateur de Capacit√© de Sprint | Sprint Velocity Calculator">
    <meta property="og:description" content="Calculateur de capacit√© de sprint agile bas√© sur la v√©locit√© de r√©f√©rence, les jours ouvr√©s et les absences. Optimisez la planification de vos sprints Scrum.">
    <meta property="og:image" content="https://connectable-web.com/tools/velocity-calculator/og-image.png">
    <meta property="og:site_name" content="Sprint Velocity Calculator">
    <meta property="og:locale" content="fr_FR">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://connectable-web.com/tools/velocity-calculator/">
    <meta property="twitter:title" content="Calculateur de Capacit√© de Sprint | Sprint Velocity Calculator">
    <meta property="twitter:description" content="Calculateur de capacit√© de sprint agile bas√© sur la v√©locit√© de r√©f√©rence, les jours ouvr√©s et les absences. Optimisez la planification de vos sprints Scrum.">
    <meta property="twitter:image" content="https://connectable-web.com/tools/velocity-calculator/og-image.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìä</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìä</text></svg>">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://connectable-web.com/tools/velocity-calculator/">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Wait for DOM to be ready
        document.addEventListener('DOMContentLoaded', function() {
            const devCountInput = document.getElementById('devCount');
            const devsContainer = document.getElementById('devs-container');
            const calcBtn = document.getElementById('calcBtn');
            
            function renderDevRows() {
                const devCount = parseInt(devCountInput.value, 10) || 0;
                console.log('Nombre de d√©veloppeurs:', devCount); // Debug
                devsContainer.innerHTML = '';
                
                for (let i = 1; i <= devCount; i++) {
                    const row = document.createElement('div');
                    row.className = 'flex flex-col sm:flex-row sm:items-center gap-2 gap-y-1 text-sm';
                    row.innerHTML = `
                        <span class="w-20 text-slate-700 font-medium">Dev ${i}</span>
                        <div class="flex items-center gap-2">
                            <input
                                type="number"
                                min="0"
                                value="0"
                                step="0.5"
                                data-dev-index="${i}"
                                class="dev-absence w-full sm:w-24 px-3 py-2 rounded-lg border border-slate-300 bg-white text-sm focus:border-indigo-500 focus:ring-indigo-500"
                            />
                            <span class="text-xs text-slate-500">jours ouvr√©s</span>
                        </div>
                    `;
                    devsContainer.appendChild(row);
                }
            }
            
            function calculateCapacity() {
                const velocity = parseFloat(document.getElementById('velocity').value || '0');
                const devCount = parseInt(devCountInput.value || '1', 10);
                const sprintDays = parseFloat(document.getElementById('sprintDays').value || '1');
                const buildPercent = parseFloat(document.getElementById('buildPercent').value || '0');

                const absenceInputs = document.querySelectorAll('.dev-absence');
                let totalAbsenceDevEquiv = 0;

                absenceInputs.forEach(input => {
                    const daysAbsent = parseFloat(input.value || '0');
                    const devEquiv = daysAbsent / sprintDays;
                    totalAbsenceDevEquiv += devEquiv;
                });

                const lossRatio = totalAbsenceDevEquiv / devCount;
                const adjustedCapacity = velocity * (1 - lossRatio);

                const buildCapacity = adjustedCapacity * (buildPercent / 100);
                const techCapacity = adjustedCapacity - buildCapacity;

                const resultDiv = document.getElementById('result');
                resultDiv.classList.remove('hidden');
                resultDiv.innerHTML = `
                    <h2 class="text-sm font-semibold text-slate-800 mb-3">R√©sultat</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-4">
                        <div class="p-3 rounded-lg bg-slate-50 border border-slate-200">
                            <div class="text-xs text-slate-500 mb-1">Capacit√© ajust√©e</div>
                            <div class="text-lg font-semibold text-slate-900">
                                ${adjustedCapacity.toFixed(2)} pts
                            </div>
                        </div>
                        <div class="p-3 rounded-lg bg-emerald-50 border border-emerald-200">
                            <div class="text-xs text-emerald-700 mb-1">Build (${buildPercent.toFixed(0)} %)</div>
                            <div class="text-lg font-semibold text-emerald-900">
                                ${buildCapacity.toFixed(2)} pts
                            </div>
                        </div>
                        <div class="p-3 rounded-lg bg-amber-50 border border-amber-200">
                            <div class="text-xs text-amber-700 mb-1">
                                Fix, dette, am√©liorations (${(100 - buildPercent).toFixed(0)} %)
                            </div>
                            <div class="text-lg font-semibold text-amber-900">
                                ${techCapacity.toFixed(2)} pts
                            </div>
                        </div>
                    </div>
                    <div class="mt-2 text-xs text-slate-500 space-y-1">
                        <div>√âquipe: ${devCount} d√©veloppeurs</div>
                        <div>Sprint: ${sprintDays} jours ouvr√©s</div>
                        <div>Absence totale √©quivalente d√©veloppeur: ${totalAbsenceDevEquiv.toFixed(2)}</div>
                        <div>Perte relative: ${(lossRatio * 100).toFixed(1)} %</div>
                    </div>
                `;
            }
            
            // Event listeners
            devCountInput.addEventListener('change', renderDevRows);
            if (calcBtn) calcBtn.addEventListener('click', calculateCapacity);
            
            // Initial render with current value
            renderDevRows();
        });
    </script>
</head>
<body class="bg-slate-50 min-h-screen">
<div class="max-w-4xl mx-auto px-4 py-8">
    <header class="mb-6">
        <h1 class="text-2xl font-semibold text-slate-900">
            Calculateur de capacit√© de sprint
        </h1>
        <p class="mt-1 text-sm text-slate-600">
            Bas√© sur la v√©locit√© de r√©f√©rence, les jours ouvr√©s du sprint et les absences par d√©veloppeur.
        </p>
    </header>

    <section class="bg-white shadow-sm rounded-xl border border-slate-200 p-6 mb-6">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div>
                <label class="block text-sm font-medium text-slate-700 mb-1">
                    V√©locit√© de r√©f√©rence du sprint (√©quipe compl√®te)
                </label>
                <input
                        type="number"
                        id="velocity"
                        value="22"
                        step="0.1"
                        class="w-full px-3 py-2 rounded-lg border border-slate-300 bg-white text-sm focus:border-indigo-500 focus:ring-indigo-500"
                />
            </div>

            <div>
                <label class="block text-sm font-medium text-slate-700 mb-1">
                    Nombre de d√©veloppeurs dans l'√©quipe
                </label>
                <input
                        type="number"
                        id="devCount"
                        value="5"
                        min="1"
                        class="w-full px-3 py-2 rounded-lg border border-slate-300 bg-white text-sm focus:border-indigo-500 focus:ring-indigo-500"
                />
            </div>

            <div>
                <label class="block text-sm font-medium text-slate-700 mb-1">
                    Jours ouvr√©s du sprint
                </label>
                <input
                        type="number"
                        id="sprintDays"
                        value="10"
                        min="1"
                        class="w-full px-3 py-2 rounded-lg border border-slate-300 bg-white text-sm focus:border-indigo-500 focus:ring-indigo-500"
                />
            </div>

            <div>
                <label class="block text-sm font-medium text-slate-700 mb-1">
                    Pourcentage d√©di√© au build
                </label>
                <div class="flex items-center gap-2">
                    <input
                            type="number"
                            id="buildPercent"
                            value="80"
                            min="0"
                            max="100"
                            class="w-24 px-3 py-2 rounded-lg border border-slate-300 bg-white text-sm focus:border-indigo-500 focus:ring-indigo-500"
                    />
                    <span class="text-sm text-slate-600">%</span>
                </div>
            </div>
        </div>
    </section>

    <section class="bg-white shadow-sm rounded-xl border border-slate-200 p-6 mb-6">
        <h2 class="text-sm font-semibold text-slate-800 mb-3">
            Absences par d√©veloppeur
        </h2>
        <p class="text-xs text-slate-500 mb-4">
            Indique les absences en jours ouvr√©s pour ce sprint.
        </p>
        <div id="devs-container" class="space-y-2"></div>
    </section>

    <div class="flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-6">
        <button
                id="calcBtn"
                class="inline-flex items-center px-4 py-2 rounded-lg bg-indigo-600 text-white text-sm font-medium hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1"
        >
            Calculer la capacit√©
        </button>
        <p class="text-xs text-slate-500">
            Le calcul se base sur les jours ouvr√©s et la v√©locit√© de r√©f√©rence.
        </p>
    </div>

    <section
            id="result"
            class="hidden bg-white shadow-sm rounded-xl border border-slate-200 p-6"
    ></section>
</div>

</body>
</html>
